<div class="driver-modal">
  <div class="modal-header">
    <h3 class="title">{{ data.name }}</h3>
    <button mat-icon-button (click)="close()"><mat-icon>close</mat-icon></button>
  </div>

  <div class="modal-section">
    <div class="car-photos">
      <div class="photo" *ngFor="let p of (data.photos || ['1','2','3'])">ðŸš—</div>
    </div>
    <div class="basic">
      <div class="row"><mat-icon>directions_car</mat-icon><span>{{ data.car }}</span></div>
      <div class="row"><mat-icon>star</mat-icon><span>{{ getRatingStars(data.rating) }} {{ data.rating }}</span></div>
      <div class="row"><mat-icon>phone</mat-icon><span>{{ data.phone }}</span></div>
    </div>
  </div>

  <div class="modal-section" *ngIf="data.carInfo">
    <h4>Avto ma'lumotlari</h4>
    <div class="specs">
      <div class="spec" *ngIf="data.carInfo?.year"><mat-icon>calendar_today</mat-icon>{{ data.carInfo?.year }}</div>
      <div class="spec" *ngIf="data.carInfo?.color"><mat-icon>palette</mat-icon>{{ data.carInfo?.color }}</div>
      <div class="spec" *ngIf="data.carInfo?.plateNumber"><mat-icon>confirmation_number</mat-icon>{{ data.carInfo?.plateNumber }}</div>
    </div>
  </div>

  <div class="modal-section" *ngIf="data.reviews?.length">
    <h4>Sharhlar</h4>
    <div class="reviews">
      <div class="review" *ngFor="let r of data.reviews">
        <div class="header">
          <div class="avatar">{{ r.userName.charAt(0) }}</div>
          <div class="meta">
            <div class="name">{{ r.userName }}</div>
            <div class="date">{{ r.date | date:'dd MMM, yyyy' }}</div>
          </div>
          <div class="stars">{{ getRatingStars(r.rating) }}</div>
        </div>
        <div class="comment">{{ r.comment }}</div>
      </div>
    </div>
  </div>
</div>


